<!DOCTYPE HTML>
<html>
 <body>
  Click the button to display the map:  
  <button onClick="getLocation( )">Display the Map!</button>
  <p id="mapholder"></p>
 
  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script>
   var  mapholder = document.getElementById( "mapholder" );
 
   function  getLocation( ) {
    if ( navigator.geolocation )
     navigator.geolocation.getCurrentPosition( showPosition );
    else
     mapholder.innerHTML = "Geolocation is not supported by this browser.";
   }
 
   function  showPosition( position ) {
    lat       = position.coords.latitude;
    lon       = position.coords.longitude;
    latlon    = new google.maps.LatLng( lat, lon );
    mapholder.style.height = '250px';
    mapholder.style.width  = '400px';
 
    var  myOptions = {
     center: latlon,
     zoom: 14,
     mapTypeId: google.maps.MapTypeId.ROADMAP,
     mapTypeControl: false,
     navigationControlOptions: {
      style: google.maps.NavigationControlStyle.SMALL
     }
    };
 
    var  map = new google.maps.Map( document.getElementById (
     "mapholder" ), myOptions );
    var  marker = new google.maps.Marker ( {
     position:latlon, map:map, title:"You are here!" } );
   }
  </script>
 </body>
</html>

